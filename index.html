<!DOCTYPE html>
<html>
    <head>
        <title>Clock</title>
        <link rel="stylesheet" href='./styles/legacy.css' id="main">
        <link rel="stylesheet" href="./styles/modal.css">
        <link rel="manifest" href="manifest.json" />
        <script src="./scripts/initiate.js"></script>
    </head>

    <body>
        <div id="myModal" class="modal">
            <div class="modal-content">
              <p>We've noticed this is your first time here. To access settings (used to set class names and your schedule), click <a href="settings.html">here</a> or change "index" in the address bar above to "settings".</p>
              <p>At the moment, class and schedule storage is not supported on the installable version of this page. We are actively working to solve this issue.</p>
              <p>Click anywhere to dismiss this message.</p>
            </div>
          </div>
        <div class="middle column">
            <div class="offset">
                <button class="time" id="time">
                    ??:??:?? ?
                </button>
            </div>
            <button class="date" id="date">
                ?, ? ?
            </button>
            <br>
            <br>
            <br>
            <button class="class" id="class">
                ?
            </button>
            <br>
            <button class="remaining" id="remaining">
                ??:?? ?
            </button>
            <br>
            <br>
            <br>
            <div class="indicator"><span style="width: 0%" id="indicator"></span></div>
            <br>
            <br>
            <button class="selector" onclick="aday()" id="selectora">A-Day</button>
            <button class="selector" onclick="bday()" id="selectorb">B-Day</button>
            <button class="selector" onclick="cday()" id="selectorc">C-Day</button>
            <button class="selector" onclick="dday()" id="selectord">D-Day</button>
            
        </div>
    
        <script src="./scripts/run.js"></script>
        <script>
            if (window.addEventListener) {
    var keys = [],
        konami = "38,38,40,40,37,39,37,39,66,65,13";

    window.addEventListener("keydown", function(e){

        keys.push(e.keyCode);

        if (keys.toString().indexOf(konami) >= 0) {

            window.location = "settings.html";

            keys = [];
        };
    }, true);
};
        </script>
        <script>
            if (window.addEventListener) {
    var key2s = [],
        konami2 = "38,38,40,40,37,39,37,39,65,66,13";

    window.addEventListener("keydown", function(k){

        key2s.push(k.keyCode);

        if (key2s.toString().indexOf(konami2) >= 0) {

            document.documentElement.requestFullscreen();

            key2s = [];
        };
    }, true);
};
        </script>
        <script>
            if (typeof navigator.serviceWorker !== 'undefined') {
              navigator.serviceWorker.register('sw.js')
            }
          </script>
          <script>
            var modal = document.getElementById("myModal");
            window.onclick = function(event) {
                modal.style.display = "none";
                localStorage.setItem('modal', 'true');
            }

            function showModal(){
                modal.style.display = "block"
            }

            if ((localStorage.getItem('modal') !== 'true') && (window.matchMedia('(display-mode: standalone)').matches === false)) {
                showModal()
            }

          </script>
    </body>
</html>
